<div class="job-details" *ngIf="jobOffer">
    <div class="job-details-header">
        <!-- Job offer Title -->
        <h2>
            {{ jobOffer.title }}
        </h2>
        <!-- Buttons displayed at full screen mode -->
        @if (!isMobileView) {
        <div class="button-group">
            @if (this.canApply) {
            <!-- Apply button -->
            <button class="btn btn-primary" (click)="apply()">
                @if (isSaving) {
                <i class="fa fa-spin fa-spinner"></i>
                } @else {
                <i class="me-2 fa-solid fa-clipboard-check"></i>
                {{ 'BUTTON.APPLY' | translate }}
                }
            </button>
            <!-- Bookmark button -->
            <button class="btn btn-primary" (click)="isBookmarked ? unbookmark() : bookmark()">
                @if (isBookmarked) {
                <i class="fa-solid fa-bookmark"></i>
                } @else {
                <i class="fa-regular fa-bookmark"></i>
                }
            </button>
            }
        </div>
        }
    </div>
    <!-- Company name -->
    <h6>
        <i class="fa-solid fa-building me-2"></i>
        {{ jobOffer.companyName }}
    </h6>
    <!-- Location -->
    <div>
        <i class="fa-solid fa-location-dot me-2"></i>
        {{ jobOffer.location }}
    </div>
    <!-- Job offer type -->
    <div>
        <i class="fa-solid fa-briefcase me-2"></i>
        {{ 'Enum.JobType.' + getJobTypeName(jobOffer.type) | translate }} â€¢ {{ 'Enum.WorkplaceType.' +
        getWorkplaceTypeName(jobOffer.workplaceType) | translate }}
    </div>
    <!-- Job offer salary -->
    @if (jobOffer.salary) {
    <div>
        <i class="fa-solid fa-money-bills me-2"></i>
        {{ jobOffer.salary}}
    </div>
    }
    <hr>
    <!-- JobDescription -->
    <h5>
        {{ 'JobOffers.JobDetails.Description' | translate }}
    </h5>
    <p class="text-area" [innerHTML]="sanitizedDescription(jobOffer.description)">
    </p>
    <!-- PositionDetails -->
    @if(jobOffer.positionDetails) {
    <h5>
        {{ 'JobOffers.JobDetails.PositionDetails' | translate }}
    </h5>
    <p class="text-area" [innerHTML]="sanitizedDescription(jobOffer.positionDetails)">
    </p>
    }
    <!-- Qualifications -->
    @if(jobOffer.qualifications) {
    <h5>
        {{ 'JobOffers.JobDetails.Qualifications' | translate }}
    </h5>
    <p class="text-area" [innerHTML]="sanitizedDescription(jobOffer.qualifications)">
    </p>
    }
    <!-- AdditionalRequirements -->
    @if (jobOffer.additionalRequirements) {
    <h5>
        {{ 'JobOffers.JobDetails.AdditionalRequirements' | translate }}
    </h5>
    <p class="text-area" [innerHTML]="sanitizedDescription(jobOffer.additionalRequirements)">
    </p>
    }
</div>
<div class="text-center" *ngIf="!jobOffer">
    <p>Select a job to see details</p>
</div>

<!-- express apply modal -->
<ng-template #expressApplyContent let-c="close" let-d="dismiss">
    <app-express-apply-modal [closeModal]="c" [dismissModal]="d" [jobOfferId]="jobOffer?.id" />
</ng-template>

<!-- login modal -->
<ng-template #loginModalContent let-c="close" let-d="dismiss">
    <app-login-modal [closeModal]="c" [dismissModal]="d" />
</ng-template>